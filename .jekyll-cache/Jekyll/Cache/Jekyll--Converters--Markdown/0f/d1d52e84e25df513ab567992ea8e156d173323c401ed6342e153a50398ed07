I"”&<h1 id="é—®é¢˜æè¿°">é—®é¢˜æè¿°</h1>
<p>We have a collection of rocks, each rock has a positive integer weight.</p>

<p>Each turn, we choose <strong>any two rocks</strong> and smash them together.  Suppose the stones have weights <code class="highlighter-rouge">x</code> and <code class="highlighter-rouge">y</code> with <code class="highlighter-rouge">x &lt;= y</code>.  The result of this smash is:</p>
<ul>
  <li>If <code class="highlighter-rouge">x == y</code>, both stones are totally destroyed;</li>
  <li>If <code class="highlighter-rouge">x != y</code>, the stone of weight <code class="highlighter-rouge">x</code> is totally destroyed, and the stone of weight <code class="highlighter-rouge">y</code> has new weight <code class="highlighter-rouge">y-x</code>.</li>
</ul>

<p>At the end, there is at most <code class="highlighter-rouge">1</code> stone left.  Return the <strong>smallest possible</strong> weight of this stone (the weight is 0 if there are no stones left.)</p>
<h3 id="example-1">Example 1:</h3>
<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="nl">Input:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">Output</span><span class="o">:</span> <span class="mi">1</span>
<span class="n">Explanation</span><span class="o">:</span> 
<span class="n">We</span> <span class="n">can</span> <span class="n">combine</span> <span class="mi">2</span> <span class="n">and</span> <span class="mi">4</span> <span class="n">to</span> <span class="n">get</span> <span class="mi">2</span> <span class="n">so</span> <span class="n">the</span> <span class="n">array</span> <span class="n">converts</span> <span class="n">to</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="n">then</span><span class="p">,</span>
<span class="n">we</span> <span class="n">can</span> <span class="n">combine</span> <span class="mi">7</span> <span class="n">and</span> <span class="mi">8</span> <span class="n">to</span> <span class="n">get</span> <span class="mi">1</span> <span class="n">so</span> <span class="n">the</span> <span class="n">array</span> <span class="n">converts</span> <span class="n">to</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="n">then</span><span class="p">,</span>
<span class="n">we</span> <span class="n">can</span> <span class="n">combine</span> <span class="mi">2</span> <span class="n">and</span> <span class="mi">1</span> <span class="n">to</span> <span class="n">get</span> <span class="mi">1</span> <span class="n">so</span> <span class="n">the</span> <span class="n">array</span> <span class="n">converts</span> <span class="n">to</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="n">then</span><span class="p">,</span>
<span class="n">we</span> <span class="n">can</span> <span class="n">combine</span> <span class="mi">1</span> <span class="n">and</span> <span class="mi">1</span> <span class="n">to</span> <span class="n">get</span> <span class="mi">0</span> <span class="n">so</span> <span class="n">the</span> <span class="n">array</span> <span class="n">converts</span> <span class="n">to</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="n">then</span> <span class="n">that</span><span class="err">'</span><span class="n">s</span> <span class="n">the</span> <span class="n">optimal</span> <span class="n">value</span><span class="p">.</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<h3 id="note">Note:</h3>
<ol>
  <li><code class="highlighter-rouge">1 &lt;= stones.length &lt;= 30</code></li>
  <li><code class="highlighter-rouge">1 &lt;= stones[i] &lt;= 100</code></li>
</ol>

<h1 id="è§£æ³•">è§£æ³•</h1>
<p>â€ƒé¢˜ç›®ä¸­ç»™äº†ä¸€äº›çŸ³å¤´ï¼Œè¦æ±‚æŠŠå®ƒä»¬smashï¼Œä¸¤ä¸ªçŸ³å¤´é‡é‡ç›¸ç­‰æ—¶ï¼Œç¢°æ’åæ¶ˆå¤±ï¼Œä¸ç­‰æ—¶ç•™ä¸‹é‡é‡ç­‰äºå®ƒä»¬å·®å€¼çš„çŸ³å¤´ã€‚<br />
â€ƒè¿™é“é¢˜æœ¬è´¨ä¸Šå…¶å®æ˜¯å¯¹æ‰€æœ‰çŸ³å¤´é‡é‡å‰èµ‹äºˆæ­£è´Ÿå·ï¼Œéœ€è¦æ±‚æ€ä¹ˆèµ‹äºˆæ­£è´Ÿå·æœ€åçš„å’Œç»å¯¹å€¼æœ€å°ã€‚  è¿™é‡ŒæŠŠç¬¦å·ä¸ºæ­£çš„çŸ³å¤´å½“ä½œä¸€å †ï¼Œç¬¦å·ä¸ºè´Ÿçš„å½“ä½œå¦ä¸€å †ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æ€ä¹ˆåˆ†å †äº†ï¼Œå‡è®¾æ‰€æœ‰çŸ³å¤´æ€»é‡é‡ä¸ºsum, è‚¯å®šæ˜¯æŸå †é‡é‡è¶Šæ¥è¿‘sum/2æ—¶å’Œè¶Šå°ã€‚æ¥ä¸‹æ¥å°±æ¥æ±‚è¿™ä¸ªèƒ½åˆ†å‡ºæ¥çš„æ¥è¿‘sum/2çš„å †ã€‚<br />
â€ƒé‚£å°±æ˜¯åŠ¨æ€è§„åˆ’äº†ï¼Œå‡è®¾é‡é‡å’Œä¸ºsum,éœ€è¦æ±‚å‡ºæ‰€æœ‰èƒ½åˆ†å‡ºæ¥çš„å †é‡é‡ã€‚åŠ¨æ€æ•°ç»„dp[i]ä¸ºtrueæ—¶è¡¨ç¤ºé‡é‡iå¯ä»¥å¾—åˆ°ï¼Œä¸ºfalseè¡¨ç¤ºä¸å¯å¾—åˆ°ã€‚åˆå§‹åŒ–å…¨ä¸ºfalseï¼Œdp[0]=trueã€‚ä¾æ¬¡æŠŠæ¯ä¸ªçŸ³å¤´åŠ åˆ°æ‰€æœ‰å·²ç»å¾—åˆ°çš„å †é‡Œé¢å³å¯å¾—åˆ°æ‰€æœ‰èƒ½åˆ†å‡ºçš„å †ï¼Œdp[j] = dp[j] | dp[j - stones[i]]ã€‚<br />
â€ƒæœ€ç»ˆä»sum/2å¾€0éå†ï¼Œç¬¬ä¸€ä¸ªtrueå°±æ˜¯æœ€æ¥è¿‘sum/2çš„å †ï¼Œsum - i - iå°±æ˜¯æ‰€æ±‚ã€‚</p>
<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre><span class="kt">int</span> <span class="nf">lastStoneWeightII</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">stones</span><span class="p">)</span> 
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">stones</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span><span class="o">&amp;</span> <span class="n">stone</span> <span class="o">:</span> <span class="n">stones</span><span class="p">)</span>
		<span class="n">sum</span> <span class="o">+=</span> <span class="n">stone</span><span class="p">;</span>
	<span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">dp</span><span class="p">(</span><span class="n">sum</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
	<span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	
	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">sum</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span> <span class="n">j</span> <span class="o">&gt;=</span> <span class="n">stones</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="o">--</span><span class="n">j</span><span class="p">)</span>
			<span class="n">dp</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">|</span> <span class="n">dp</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="n">stones</span><span class="p">[</span><span class="n">i</span><span class="p">]];</span>
	<span class="p">}</span>

	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">sum</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="o">--</span><span class="n">i</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
			<span class="k">return</span> <span class="n">sum</span> <span class="o">-</span> <span class="n">i</span> <span class="o">-</span> <span class="n">i</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">sum</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>time complexity: O(n * sum)<br />
space complexity: O(sum)<br />
runtime: 100.00%<br />
memory usage: 100.00%</p>

<h1 id="link">Link</h1>
<p><a href="https://leetcode.com/problems/last-stone-weight-ii/">leetcode-1049</a></p>
:ET