I"Ë&<h1 id="é—®é¢˜æè¿°">é—®é¢˜æè¿°</h1>
<p>You have <strong>n</strong> super washing machines on a line. Initially, each washing machine has some dresses or is empty.</p>

<p>For each <strong>move</strong>, you could choose <strong>any m</strong> (1 â‰¤ m â‰¤ n) washing machines, and pass <strong>one dress</strong> of each washing machine to one of its adjacent washing machines <strong>at the same time</strong>.</p>

<p>Given an integer array representing the number of dresses in each washing machine from left to right on the line, you should find the <strong>minimum number of moves</strong> to make all the washing machines have the same number of dresses. If it is not possible to do it, return -1.</p>

<h3 id="example-1">Example 1</h3>
<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="nl">Input:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>

<span class="n">Output</span><span class="o">:</span> <span class="mi">3</span>

<span class="n">Explanation</span><span class="o">:</span> 
<span class="mx">1s</span><span class="n">t</span> <span class="n">move</span><span class="o">:</span>    <span class="mi">1</span>     <span class="mi">0</span> <span class="o">&lt;--</span> <span class="mi">5</span>    <span class="o">=&gt;</span>    <span class="mi">1</span>     <span class="mi">1</span>     <span class="mi">4</span>
<span class="mi">2</span><span class="n">nd</span> <span class="n">move</span><span class="o">:</span>    <span class="mi">1</span> <span class="o">&lt;--</span> <span class="mi">1</span> <span class="o">&lt;--</span> <span class="mi">4</span>    <span class="o">=&gt;</span>    <span class="mi">2</span>     <span class="mi">1</span>     <span class="mi">3</span>    
<span class="mi">3</span><span class="n">rd</span> <span class="n">move</span><span class="o">:</span>    <span class="mi">2</span>     <span class="mi">1</span> <span class="o">&lt;--</span> <span class="mi">3</span>    <span class="o">=&gt;</span>    <span class="mi">2</span>     <span class="mi">2</span>     <span class="mi">2</span>  
</pre></td></tr></tbody></table></code></pre></div></div>
<h3 id="example-2">Example 2</h3>
<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="nl">Input:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>

<span class="n">Output</span><span class="o">:</span> <span class="mi">2</span>

<span class="n">Explanation</span><span class="o">:</span> 
<span class="mx">1s</span><span class="n">t</span> <span class="n">move</span><span class="o">:</span>    <span class="mi">0</span> <span class="o">&lt;--</span> <span class="mi">3</span>     <span class="mi">0</span>    <span class="o">=&gt;</span>    <span class="mi">1</span>     <span class="mi">2</span>     <span class="mi">0</span>    
<span class="mi">2</span><span class="n">nd</span> <span class="n">move</span><span class="o">:</span>    <span class="mi">1</span>     <span class="mi">2</span> <span class="o">--&gt;</span> <span class="mi">0</span>    <span class="o">=&gt;</span>    <span class="mi">1</span>     <span class="mi">1</span>     <span class="mi">1</span>    
</pre></td></tr></tbody></table></code></pre></div></div>
<h3 id="example-3">Example 3</h3>
<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="nl">Input:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>

<span class="n">Output</span><span class="o">:</span> <span class="o">-</span><span class="mi">1</span>

<span class="n">Explanation</span><span class="o">:</span> 
<span class="n">It</span><span class="err">'</span><span class="n">s</span> <span class="n">impossible</span> <span class="n">to</span> <span class="n">make</span> <span class="n">all</span> <span class="n">the</span> <span class="n">three</span> <span class="n">washing</span> <span class="n">machines</span> <span class="n">have</span> <span class="n">the</span> <span class="n">same</span> <span class="n">number</span> <span class="n">of</span> <span class="n">dresses</span><span class="p">.</span>    
</pre></td></tr></tbody></table></code></pre></div></div>
<h3 id="note">Note:</h3>
<ol>
  <li>The range of n is <code class="highlighter-rouge">[1, 10000]</code>.</li>
  <li>The range of dresses number in a super washing machine is <code class="highlighter-rouge">[0, 1e5]</code>.</li>
</ol>

<h1 id="è§£æ³•">è§£æ³•</h1>
<p>è¿™é“é¢˜è¿˜æ˜¯åŠ¨æ€è§„åˆ’è§£æ³•ã€‚é¦–å…ˆæ±‚å‡ºæ‰€æœ‰dressæ€»å’Œçœ‹èƒ½å¦æ•´é™¤ï¼Œä¸èƒ½æ•´é™¤å°±ç›´æ¥è¿”å›-1äº†ï¼Œèƒ½æ•´é™¤å°±æŠŠå¹³å‡å€¼è®°ä¸ºaveï¼Œè¿™ä¸ªå°±æ˜¯moveç»“æŸåæ‰€æœ‰æ´—è¡£æœºåº”è¯¥
æœ‰çš„dressæ•°ç›®ã€‚é‚£ä¹ˆå¦‚ä½•æ±‚moveæ¬¡æ•°ï¼Œè¿™é“é¢˜ä¸­æœ‰ä¸ªç‰¹ç‚¹å¯ä»¥é€‰å–mä¸ªæ´—è¡£æœºè¿ç»­å‘å·¦æˆ–è€…å³ç§»åŠ¨ä¸€ä»¶dressï¼Œä¸ºäº†è®©å®ƒä»¬å¹³å‡è‚¯å®šæ˜¯ä»å¤šçš„ç§»åˆ°å°‘çš„ã€‚ç”¨æ¯å°æ´—è¡£æœºä¸­dressæ•°ç›®å‡å»aveå°±æ˜¯å®ƒéœ€è¦ç§»ç»™åˆ«çš„è·å¾—å¾—åˆ°çš„æ•°é‡ã€‚ä¾‹å¦‚machines = {0, 0, 11, 5}ã€‚ave=4, å·®å€¼æ•°ç»„ä¸º[-4, -4, 7, 1]åˆ†åˆ«è¡¨ç¤ºç¬¬ä¸€å°æ´—è¡£æœºéœ€è¦è·å¾—4ä»¶è¡£æœï¼Œç¬¬äºŒå°ä¹Ÿè¦è·å¾—4ä»¶è¡£æœï¼Œç¬¬ä¸‰å°ç»™åˆ«çš„7ä»¶â€¦ã€‚é‚£ä¹ˆå¦‚ä½•ç”±è¿™ä¸ªæ±‚moveæ¬¡æ•°ï¼Œä»å·¦è‡³å³ç´¯åŠ å·®å€¼ï¼Œç¬¬ä¸€æ¬¡ç´¯åŠ ä¸º[0, -8, 7, 1]ï¼Œ ç¬¬äºŒæ¬¡ç´¯åŠ ä¸º[0, 0, -1, 1]ï¼Œç¬¬ä¸‰æ¬¡ç´¯åŠ ä¸º[0, 0, 0, 0]ï¼Œmoveç­‰äºç´¯åŠ ä¸­æ‰€æœ‰ç´¯åŠ å’Œç»å¯¹å€¼å’Œæ‰€æœ‰åŸå§‹å·®å€¼ä¸­çš„æœ€å¤§å€¼ï¼Œè¿™é‡Œå³ä¸º8ã€‚<br />
é‚£ä¹ˆä¸ºå•¥ï¼Œå› ä¸ºå½“ç›¸é‚»çš„æ´—è¡£æœºä¸€ä¸ªéœ€è¦åŠ ï¼Œä¸€ä¸ªéœ€è¦å‡æ—¶æ˜¯å¯ä»¥åœ¨ä¸€æ¬¡moveä¸­è§£å†³çš„ï¼Œåªæœ‰éƒ½è¦åŠ æˆ–è€…éƒ½è¦å‡æ‰è¦ç´¯åŠ moveæ¬¡æ•°ï¼Œæ‰€ä»¥éœ€è¦æ±‚ç´¯åŠ å’Œç»å¯¹å€¼æå¤§å€¼ï¼Œé‚£ä¹ˆä¸ºå•¥è¿˜è¦åŸå§‹å·®å€¼æå¤§å€¼ï¼Œå› ä¸ºå¯èƒ½å­˜åœ¨æŸä¸ªæ´—è¡£æœºè¦å¾€ä¸¤è¾¹moveï¼Œå¦‚[0, 3, 0],ç´¯åŠ å’Œä¸º0, -1, 1, 0ï¼Œç»å¯¹å€¼æå¤§å€¼ä¸º1,å·®å€¼æå¤§å€¼ä¸º2ï¼Œ2æ‰æ˜¯ç»“æœã€‚<br />
accumulateå‡½æ•°æ¥è‡ªnumericå¤´æ–‡ä»¶ã€‚</p>
<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="kt">int</span> <span class="nf">findMinMoves</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">machines</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="n">machines</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
	<span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="n">accumulate</span><span class="p">(</span><span class="n">machines</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">machines</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="mi">0</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">sum</span> <span class="o">%</span> <span class="n">n</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span>
		<span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">ave</span> <span class="o">=</span> <span class="n">sum</span> <span class="o">/</span> <span class="n">n</span><span class="p">,</span> <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span><span class="o">&amp;</span> <span class="n">m</span> <span class="o">:</span> <span class="n">machines</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">cnt</span> <span class="o">+=</span> <span class="n">m</span> <span class="o">-</span> <span class="n">ave</span><span class="p">;</span>
		<span class="n">res</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">max</span><span class="p">(</span><span class="n">abs</span><span class="p">(</span><span class="n">cnt</span><span class="p">),</span> <span class="n">m</span> <span class="o">-</span> <span class="n">ave</span><span class="p">));</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">res</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>time complexity: O(n)<br />
space complexity: O(1)<br />
runtime: 6.52%<br />
memory usage: 100.00%</p>

<h1 id="link">Link</h1>
<p><a href="https://leetcode.com/problems/super-washing-machines/">leetcode-517</a><br />
<a href="https://www.cnblogs.com/grandyang/p/6648557.html">solution-grandyang</a><br />
<a href="https://leetcode.com/problems/super-washing-machines/discuss/99185/super-short-easy-java-on-solution">solution</a></p>
:ET