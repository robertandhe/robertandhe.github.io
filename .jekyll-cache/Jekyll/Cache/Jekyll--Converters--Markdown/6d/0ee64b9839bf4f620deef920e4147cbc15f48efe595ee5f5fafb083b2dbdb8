I"Ù"<h1 id="é—®é¢˜æè¿°">é—®é¢˜æè¿°</h1>
<p>Consider the string <code class="highlighter-rouge">s</code> to be the infinite wraparound string of â€œabcdefghijklmnopqrstuvwxyzâ€, so <code class="highlighter-rouge">s</code> will look like this: â€œâ€¦zabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdâ€¦.â€.</p>

<p>Now we have another string <code class="highlighter-rouge">p</code>. Your job is to find out how many unique non-empty substrings of <code class="highlighter-rouge">p</code> are present in <code class="highlighter-rouge">s</code>. In particular, your input is the string <code class="highlighter-rouge">p</code>and you need to output the number of different non-empty substrings of <code class="highlighter-rouge">p</code> in the string <code class="highlighter-rouge">s</code>.</p>

<h3 id="note">Note:</h3>
<p><code class="highlighter-rouge">p</code> consists of only lowercase English letters and the size of p might be over <code class="highlighter-rouge">10000</code>.</p>

<h3 id="example-1">Example 1:</h3>
<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="nl">Input:</span> <span class="s">"a"</span>
<span class="n">Output</span><span class="o">:</span> <span class="mi">1</span>

<span class="n">Explanation</span><span class="o">:</span> <span class="n">Only</span> <span class="n">the</span> <span class="n">substring</span> <span class="s">"a"</span> <span class="n">of</span> <span class="n">string</span> <span class="s">"a"</span> <span class="n">is</span> <span class="n">in</span> <span class="n">the</span> <span class="n">string</span> <span class="n">s</span><span class="p">.</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<h3 id="example-2">Example 2:</h3>
<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nl">Input:</span> <span class="s">"cac"</span>
<span class="n">Output</span><span class="o">:</span> <span class="mi">2</span>
<span class="n">Explanation</span><span class="o">:</span> <span class="n">There</span> <span class="n">are</span> <span class="n">two</span> <span class="n">substrings</span> <span class="s">"a"</span><span class="p">,</span> <span class="s">"c"</span> <span class="n">of</span> <span class="n">string</span> <span class="s">"cac"</span> <span class="n">in</span> <span class="n">the</span> <span class="n">string</span> <span class="n">s</span><span class="p">.</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<h3 id="example-3">Example 3:</h3>
<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nl">Input:</span> <span class="s">"zab"</span>
<span class="n">Output</span><span class="o">:</span> <span class="mi">6</span>
<span class="n">Explanation</span><span class="o">:</span> <span class="n">There</span> <span class="n">are</span> <span class="n">six</span> <span class="n">substrings</span> <span class="s">"z"</span><span class="p">,</span> <span class="s">"a"</span><span class="p">,</span> <span class="s">"b"</span><span class="p">,</span> <span class="s">"za"</span><span class="p">,</span> <span class="s">"ab"</span><span class="p">,</span> <span class="s">"zab"</span> <span class="n">of</span> <span class="n">string</span> <span class="s">"zab"</span> <span class="n">in</span> <span class="n">the</span> <span class="n">string</span> <span class="n">s</span><span class="p">.</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h1 id="è§£æ³•">è§£æ³•</h1>
<p>è¿™é¢˜å¾ˆæ˜æ˜¾è¦ç”¨åŠ¨æ€è§„åˆ’ï¼Œå› ä¸ºå½“å‰ä½ç½®å­—ç¬¦p[i]èƒ½å¦ç»„æˆåœ¨sä¸­çš„å­å­—ç¬¦ä¸²å’Œå‰é¢åœ¨sä¸­å­—ç¬¦ä¸²çš„é•¿åº¦æœ‰å…³ï¼Œé€‚åˆçŠ¶æ€è½¬ç§»æ–¹ç¨‹æ¥è§£ã€‚ <br />
é¦–å…ˆæƒ³äº†ç”¨åŠ¨æ€æ•°ç»„dp[i]è¡¨ç¤ºåœ¨iä½ç½®æœ€é•¿è¿ç»­å­å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œdp[i]å¾ˆæ˜æ˜¾å’Œdp[i-1]æœ‰å…³ï¼Œå¦‚æœdp[i]== dp[i - 1] + 1 || dp[i - 1] - dp[i] == 25ï¼Œåˆ™è¿™ä¸¤ä¸ªè¿˜æ˜¯è¿ç»­çš„ï¼Œdp[i] = dp[i - 1] + 1ã€‚åŒæ—¶éœ€è¦æ ¹æ®dp[i]å¾€å›éå†å¯¹åº”é•¿åº¦å†…æ‰€æœ‰ä»¥p[i]ç»“å°¾çš„å­—ç¬¦ä¸²çœ‹æ˜¯å¦å‡ºç°è¿‡ï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ªå“ˆå¸Œè¡¨å­˜å‚¨å·²ç»å‡ºç°çš„å­å­—ç¬¦ä¸²ï¼Œé˜²æ­¢é‡å¤è®¡ç®—ã€‚è¿™ä¸ªæƒ³æ³•æ€æƒ³æ˜¯å¯è¡Œçš„ï¼Œä½†TLEï¼Œso sadã€‚<br />
å¤§ä½¬çš„è§£æ³•æ˜¯æŠŠåŠ¨æ€æ•°ç»„å®šä¹‰ä¸ºvector<int> dp(26, 0)ã€‚ dp[i]è¡¨ç¤º'a' + iå¯¹åº”å­—ç¬¦ç»“å°¾çš„æœ€é•¿è¿ç»­å­å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚å‡è®¾è¿ç»­å­—ç¬¦ä¸²ä¸º"abcd"ï¼Œé‚£ä¹ˆä»¥'d'ç»“å°¾çš„åœ¨sä¸­çš„å­å­—ç¬¦ä¸²ä¸º"d", "cd", "bcd", "abcd"ï¼Œè¿™æ ·åªè¦æ±‚å‡ºæ‰€æœ‰å·²26ä¸ªå­—ç¬¦ç»“å°¾çš„æœ€é•¿è¿ç»­å­å­—ç¬¦ä¸²çš„é•¿åº¦ç´¯åŠ å°±æ˜¯ç»“æœã€‚</int></p>
<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="kt">int</span> <span class="nf">findSubstringInWraproundString</span><span class="p">(</span><span class="n">string</span> <span class="n">p</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">cnt</span><span class="p">(</span><span class="mi">26</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span> <span class="n">len</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">||</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mi">25</span><span class="p">)){</span>
			<span class="o">++</span><span class="n">len</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">else</span> <span class="p">{</span>
			<span class="n">len</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="n">cnt</span><span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="sc">'a'</span><span class="p">]</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">cnt</span><span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="sc">'a'</span><span class="p">],</span> <span class="n">len</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">accumulate</span><span class="p">(</span><span class="n">cnt</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">cnt</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>time complexity: O(n)<br />
space compelxity: O(1)<br />
runtime: 51.46%<br />
memory usage:  85.71%</p>

<h1 id="link">Link</h1>
<p><a href="https://leetcode.com/problems/unique-substrings-in-wraparound-string/">leetcode-467</a><br />
<a href="https://www.cnblogs.com/grandyang/p/6143071.html">solution</a></p>
:ET